{% load static %}


{% if role == "hearer" and context == "question" %}

			<div id="choose">
			  	<div id="choose_inner">
					<div id="word_speaker">
					  	<div class="question_text" id="hearer_word_question">
						  	You heard this word:
						</div>
						<div id="word_inner">
							<div class="word_text word_text_hearer"> {{ word }} </div>
						</div>
					</div>
					<div id="meaning">
						<div class="question_text" id="hearer_meaning_question">
						  	What do you think the speaker talked about?
						</div>
						<div id="meaning_inner">
							{% for m in experiment.meanings.all %}
							<img id="meaning_{{ m.meaning }}" class="meaning_img" src="{% static 'ng/img/' %}kreyon_meaning{{ m.meaning }}.png" meaning_name="{{ m.meaning }}">
							{% endfor %}
						</div>
					  </div>
					<div id="button_next_div">
					  	<form id="hearer_form" onsubmit="get_action(this);"  method=post>

						{% csrf_token %}
						<input type='hidden' id='hiddenField_hearer_form' value="{% url 'ng:results_hearer_base' experiment.xp_uuid %}" />
						<input id="button_next" class="button_hearer button_action button" type="submit" value="Next" />
						</form>
					</div>
				</div>
			</div>

			<script>

		    function get_action(form) {
		    	if(!selected_m){
		    		alert('Choose a meaning');
		    		return false;
		    	}
		    	else{
   	        		form.action = document.getElementById("hiddenField_hearer_form").value + selected_m.getAttribute("meaning_name") + "/results/";
    	    			}
    	    		}

			</script>

{% elif role == "speaker" and context == "question" %}

			<div id="choose">
			  	<div id="choose_inner">
					<!--<div id="word_hearer">
					  	<div class="question_text">
						  	You heard this word:
						</div>
						<div id="word_inner">
							<div class="word_text" id="word5"> karabuk </div>
						</div>
					</div>-->
					<div id="meaning">
						<div class="question_text" id="speaker_meaning_question">
						  	What do you want to talk about? <!-- What do you think the speaker talked about? -->
						</div>
						<div id="meaning_inner">
							{% for m in experiment.meanings.all %}
							<img id="meaning_{{ m.meaning }}" class="meaning_img" src="{% static 'ng/img/' %}kreyon_meaning{{ m.meaning }}.png" meaning_name="{{ m.meaning }}">
							{% endfor %}
						</div>
					  </div>
					  <div id="word_speaker">
						<div class="question_text" id="speaker_word_question">
					  		Using which word?
					  	</div>
					  	<div id="word_inner">
							{% for w in experiment.words.all %}
							<div id="word_{{ w.word }}" class="word_text word_text_speaker" word_name="{{ w.word }}"> {{ w.word }} </div>
							{% endfor %}
						</div>

					</div>
					<div id="button_next_div">
					  	<!--<button id="button_next">Next</button>-->
					  	<form id="speaker_form" onsubmit="get_action(this);"  method=post>

						{% csrf_token %}
						<input type='hidden' id='hiddenField_speaker_form' value="{% url 'ng:results_speaker_base' experiment.xp_uuid %}" />
						<input id="button_next" class="button_speaker button_action button" type="submit" value="Next" />
						</form>
					</div>
				</div>
			</div>
			<script>

		    function get_action(form) {
		    	if(!selected_m || !selected_w){
		    		alert('Choose a meaning and a word');
		    		return false;
		    	}
		    	else{
   	        		form.action = document.getElementById("hiddenField_speaker_form").value + selected_m.getAttribute("meaning_name") + "-" + selected_w.getAttribute("word_name")+ "/results/";
    	    			}
    	    		}

			</script>


{% elif context == "result" %}



			<div id="choose">
			  	<div id="choose_inner">
					<!--<div id="word_hearer">
					  	<div class="question_text">
						  	You heard this word:
						</div>
						<div id="word_inner">
							<div class="word_text" id="word5"> karabuk </div>
						</div>
					</div>-->
					<div id="meaning">



<h2>{{ experiment.interaction_counter }}</h2>

						<div class="question_text">
						  	{% if bool_succ %}<p><strong id='result_success'></strong></p><span class="meaning_chosen_check"><img src="{% static 'ng/img/' %}check.png"></span>
						  	{% else %}<p><strong id='result_fail'></strong></p><span class="meaning_chosen_check"><img src="{% static 'ng/img/' %}cross.png"></span>{% endif %}
						</div>
					  </div>
					<div id="button_next_div">
					  	<!--<button id="button_next">Next</button>-->

						<form action="{% url 'ng:continue' experiment.xp_uuid %}" method="post">
						{% csrf_token %}
						<input id="button_next" class="button" type="submit" value="Next" />
					  	</form>
					</div>
				</div>
			</div>


{% else %}

			<div id="choose">
			  	<div id="choose_inner">
					<!--<div id="word_hearer">
					  	<div class="question_text">
						  	You heard this word:
						</div>
						<div id="word_inner">
							<div class="word_text" id="word5"> karabuk </div>
						</div>
					</div>-->
					<div id="meaning">



<h2>{{ experiment.interaction_counter }}</h2>

						<div class="question_text">
						  	<p><strong id="{{ textid }}"></strong></p>
						</div>
					  </div>
					<div id="button_next_div">
					  	<!--<button id="button_next">Next</button>-->

						<form action="{% url 'ng:continue' experiment.xp_uuid %}" method="post">
						{% csrf_token %}
						<input id="button_next" class="button" type="submit" value="Next" />
					  	</form>
					</div>
				</div>
			</div>

{% endif %}
